import requests_with_caching
import json

def get_movies_from_tastedive(s):
    p = {'q' : s , 'type' : 'movies' , 'limit' : 5}
    movie = requests_with_caching.get('https://tastedive.com/api/similar',p)
    movie_resp = movie.json()
    return movie_resp
def extract_movie_titles(s2):
    lst=[]
    for i in s2['Similar']['Results']:
        lst.append(i['Name'])
    return (lst)
def get_related_titles(l):
    lst = []
    for i in l:
        lst.append(get_movies_from_tastedive(i)['Name'])
    print(lst)
# some invocations that we use in the automated tests; uncomment these if you are getting errors and want better error messages
get_related_titles(["Black Panther", "Captain Marvel"])
get_related_titles([])
